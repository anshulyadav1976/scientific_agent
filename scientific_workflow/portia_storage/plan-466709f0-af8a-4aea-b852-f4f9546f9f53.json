{
    "id": "plan-466709f0-af8a-4aea-b852-f4f9546f9f53",
    "plan_context": {
        "query": "\n        Analyze the dataset located at 'C:\\Users\\anshu\\scientific_agent\\scientific_workflow\\uploaded_files\\GLB.Ts+dSST.csv'. The user provided a hint that the data type is 'tabular'.\n        User context/request: 'take a look and lmk'\n\n        Follow these steps:\n        1. Ingest the data from the file path using the data_ingestion_tool, passing the provided data type hint ('tabular' if data_type_hint else 'None') if available. The tool will output a dictionary containing a summary and the detected_type ('tabular' or 'unstructured'). Name the output of this step $ingestion_output.\n        2. **Conditionally Summarize**: If the 'detected_type' in $ingestion_output is 'unstructured', use the llm_tool to generate a concise summary of the 'snippet' found in $ingestion_output.summary. Ask the llm_tool: \"Provide a brief summary (2-3 sentences) of the following text snippet: [snippet content]\". Name the output of this step $llm_summary. If the detected_type is 'tabular', skip this step.\n        3. **Conditionally Analyze**: If the 'detected_type' in $ingestion_output is 'tabular', use the analysis_tool. Pass the original 'file_path' from $ingestion_output as the 'file_path' argument to the tool. Name the output of this step $analysis_results.\n        # Add step 4 for LLM summary of analysis results later\n        ",
        "tool_ids": [
            "analysis_tool",
            "data_ingestion_tool",
            "llm_tool",
            "search_tool"
        ]
    },
    "steps": [
        {
            "task": "Ingest the data from the file 'C:\\Users\\anshu\\scientific_agent\\scientific_workflow\\uploaded_files\\GLB.Ts+dSST.csv' using the provided data type hint 'tabular'. This step calls the data_ingestion_tool with the file path and data type hint as specified in the query.",
            "inputs": [],
            "tool_id": "data_ingestion_tool",
            "output": "$ingestion_output",
            "condition": null
        },
        {
            "task": "Generate a brief summary using the llm_tool. The task is to provide a concise (2-3 sentences) summary of the text snippet found in $ingestion_output.summary.",
            "inputs": [
                {
                    "name": "$ingestion_output",
                    "description": "The output from the data ingestion containing the summary and detected_type."
                }
            ],
            "tool_id": "llm_tool",
            "output": "$llm_summary",
            "condition": "if $ingestion_output.detected_type is 'unstructured'"
        },
        {
            "task": "Analyze the CSV data by passing the original file path from $ingestion_output to the analysis_tool. Use the default parameters including a correlation_threshold of 0.7 and an outlier_iqr_multiplier of 1.5.",
            "inputs": [
                {
                    "name": "$ingestion_output",
                    "description": "The output from the data ingestion containing the file path and detected_type."
                }
            ],
            "tool_id": "analysis_tool",
            "output": "$analysis_results",
            "condition": "if $ingestion_output.detected_type is 'tabular'"
        },
        {
            "task": "Using the llm_tool, generate a summary of the analysis results found in $analysis_results. The summary should encapsulate the descriptive statistics, correlations, and any detected outliers.",
            "inputs": [
                {
                    "name": "$analysis_results",
                    "description": "The output from the analysis_tool containing the analysis of the CSV data."
                }
            ],
            "tool_id": "llm_tool",
            "output": "$llm_analysis_summary",
            "condition": "if $ingestion_output.detected_type is 'tabular'"
        }
    ]
}