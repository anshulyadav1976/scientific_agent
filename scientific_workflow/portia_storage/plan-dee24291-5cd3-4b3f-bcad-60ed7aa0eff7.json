{
    "id": "plan-dee24291-5cd3-4b3f-bcad-60ed7aa0eff7",
    "plan_context": {
        "query": "\n        Analyze the dataset located at 'C:\\Users\\anshu\\scientific_agent\\scientific_workflow\\uploaded_files\\GLB.Ts+dSST_cleaned.csv'. The user provided a hint that the data type is 'tabular'.\n        User context/request: 'take a look and lmk what u see'\n\n        Follow these steps:\n        1. Ingest the data from the file path using the data_ingestion_tool, passing the provided data type hint ('tabular' if data_type_hint else 'None') if available. The tool will output a dictionary containing a summary and the detected_type ('tabular' or 'unstructured'). Name the output of this step $ingestion_output.\n        2. **Conditionally Summarize**: If the 'detected_type' in $ingestion_output is 'unstructured', use the llm_tool to generate a concise summary of the 'snippet' found in $ingestion_output.summary. Ask the llm_tool: \"Provide a brief summary (2-3 sentences) of the following text snippet: [snippet content]\". Name the output of this step $llm_summary. If the detected_type is 'tabular', skip this step.\n        3. **Conditionally Analyze**: If the 'detected_type' in $ingestion_output is 'tabular', use the analysis_tool. Pass the original 'file_path' from $ingestion_output as the 'file_path' argument to the tool. Name the output of this step $analysis_results.\n        # Add step 4 for LLM summary of analysis results later\n        ",
        "tool_ids": [
            "analysis_tool",
            "data_ingestion_tool",
            "llm_tool",
            "search_tool"
        ]
    },
    "steps": [
        {
            "task": "Ingest the dataset located at 'C:\\Users\\anshu\\scientific_agent\\scientific_workflow\\uploaded_files\\GLB.Ts+dSST_cleaned.csv' using the provided data type hint 'tabular'. The tool should return a summary and a detected_type indicating whether the data is 'tabular' or 'unstructured'.",
            "inputs": [],
            "tool_id": "data_ingestion_tool",
            "output": "$ingestion_output",
            "condition": null
        },
        {
            "task": "Generate a concise summary of the snippet from the data ingestion summary. The task is to provide a brief summary (2-3 sentences) of the text snippet contained in the ingestion output summary.",
            "inputs": [
                {
                    "name": "$ingestion_output",
                    "description": "Output from data ingestion containing the summary and detected_type, including the snippet."
                }
            ],
            "tool_id": "llm_tool",
            "output": "$llm_summary",
            "condition": "if $ingestion_output.detected_type is equal to 'unstructured'"
        },
        {
            "task": "Analyze the dataset by using the original file path from the ingestion output. The task should include calculating strong correlations, detecting outliers, and generating comprehensive descriptive statistics for the tabular data.",
            "inputs": [
                {
                    "name": "$ingestion_output",
                    "description": "Output from data ingestion containing the original file path."
                }
            ],
            "tool_id": "analysis_tool",
            "output": "$analysis_results",
            "condition": "if $ingestion_output.detected_type is equal to 'tabular'"
        },
        {
            "task": "Provide a brief summary of the analysis results produced in the previous analysis step. The task is to generate a concise description of the key findings from the analysis results.",
            "inputs": [
                {
                    "name": "$analysis_results",
                    "description": "Output from the analysis tool containing correlations, outlier detection, and descriptive statistics."
                }
            ],
            "tool_id": "llm_tool",
            "output": "$llm_analysis_summary",
            "condition": "if $analysis_results exists"
        }
    ]
}